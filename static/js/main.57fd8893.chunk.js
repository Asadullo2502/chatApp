(this.webpackJsonpwebsocketfront=this.webpackJsonpwebsocketfront||[]).push([[0],{146:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(10),r=a.n(i),c=a(53),o=a(26),l=a(92),j=a.n(l),d=(a(146),a(219)),u=a(207),m=a(204),b=a(216),p=a(94),g=a.n(p),O=a(64),x=a(199),h=a(202),f=a(5),w=Object(x.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function v(e){var t=e.setToken,a=e.client,s=e.setMyName,i=w(),r=Object(n.useRef)(null);return Object(f.jsxs)(h.a,{component:"main",maxWidth:"xs",children:[Object(f.jsx)(m.a,{}),Object(f.jsxs)("div",{className:i.paper,children:[Object(f.jsx)(d.a,{className:i.avatar,children:Object(f.jsx)(g.a,{})}),Object(f.jsx)(O.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(f.jsxs)("form",{className:i.form,noValidate:!0,children:[Object(f.jsx)(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Ismingiz",type:"text",label:"Ismingiz",name:"userName",autoComplete:"Ismingiz",autoFocus:!0,inputRef:r}),Object(f.jsx)(u.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,onClick:function(e){e.preventDefault(),window.localStorage.setItem("user",r.current.value),s(r.current.value),a.emit("come",r.current.value),t(!0)},children:"Sign In"})]})]})]})}var S=a(95),y=a(25),I=a(206),N=a(96),k=a.n(N),B=a(209),C=a(208),z=function(e){var t=e.text,a=e.userId,n=e.setTeleName;return Object(f.jsxs)(C.a,{button:!0,onClick:function(){window.localStorage.setItem("userName",a),n(t)},children:[Object(f.jsx)(d.a,{alt:t,src:"".concat(k.a),style:{background:"#3F51B5"}}),Object(f.jsx)(B.a,{primary:t,style:{marginLeft:"20px"}})]})},M=a(3),R=a(15),T=a(218),W=a(212),F=a(213),D=a(215),E=a(214),L=a(97),U=a.n(L),_=a(99),J=a.n(_),q=a(98),A=a.n(q),G=a(205),H=a(100),V=a.n(H),X=a(210),K=a(211),P=(a(152),Object(x.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}));function Q(e){var t=e.name,a=e.time,n=e.text,s=e.isMe,i=P();i.bullet;return Object(f.jsx)("div",{className:"cardBlock ".concat(s?"active":""),children:Object(f.jsx)(X.a,{className:"".concat(i.root," cardBlock-inner"),variant:"outlined",children:Object(f.jsxs)(K.a,{children:[Object(f.jsxs)("div",{className:"row",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(f.jsx)(O.a,{component:"h6",variant:"h6",color:"textSecondary",gutterBottom:!0,style:{fontWeight:900},children:t}),Object(f.jsx)(O.a,{component:"h6",variant:"h6",color:"textSecondary",gutterBottom:!0,style:{background:"#3F51B5",color:"#fff",padding:"0px 5px",borderRadius:"5px",fontSize:"17px"},children:a})]}),Object(f.jsx)(O.a,{variant:"body2",component:"p",children:n})]})})})}var Y=240,Z=Object(x.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:Y,width:"calc(100% - ".concat(Y,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:Y,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:Y,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(y.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(S.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)}}}));function $(e){var t,a,i=e.users,r=e.client,l=e.messages,j=e.setMessages,d=new Date,b=Object(n.useRef)(),p=Z(),g=Object(R.a)(),x=s.a.useState(!1),h=Object(o.a)(x,2),w=h[0],v=h[1],S=Object(n.useState)("Userni tanlang !"),N=Object(o.a)(S,2),k=N[0],B=N[1];return console.log(l),Object(f.jsxs)("div",{className:p.root,children:[Object(f.jsx)(m.a,{}),Object(f.jsx)(W.a,{position:"fixed",className:Object(M.a)(p.appBar,Object(y.a)({},p.appBarShift,w)),children:Object(f.jsxs)(F.a,{children:[Object(f.jsx)(E.a,{color:"inherit","aria-label":"open drawer",onClick:function(){v(!0)},edge:"start",className:Object(M.a)(p.menuButton,Object(y.a)({},p.hide,w)),children:Object(f.jsx)(U.a,{})}),Object(f.jsx)(O.a,{variant:"h6",noWrap:!0,children:k})]})}),Object(f.jsxs)(T.a,{variant:"permanent",className:Object(M.a)(p.drawer,(t={},Object(y.a)(t,p.drawerOpen,w),Object(y.a)(t,p.drawerClose,!w),t)),classes:{paper:Object(M.a)((a={},Object(y.a)(a,p.drawerOpen,w),Object(y.a)(a,p.drawerClose,!w),a))},children:[Object(f.jsx)("div",{className:p.toolbar,children:Object(f.jsx)(E.a,{onClick:function(){v(!1)},children:"rtl"===g.direction?Object(f.jsx)(A.a,{}):Object(f.jsx)(J.a,{})})}),Object(f.jsx)(D.a,{}),Object(f.jsx)(D.a,{}),Object(f.jsx)(I.a,{children:i.length?i.map((function(e){return Object(f.jsx)(z,{text:e.name,userId:e.userId,setTeleName:B})})):Object(f.jsx)(f.Fragment,{})})]}),Object(f.jsxs)("main",{className:p.content,children:[Object(f.jsx)("div",{className:p.toolbar}),Object(f.jsx)("div",{className:"row",children:l.length?l.map((function(e){return Object(f.jsx)(Q,{name:e.user,time:e.time,text:e.message,isMe:e.user==window.localStorage.getItem("user")})})):Object(f.jsx)(f.Fragment,{})}),Object(f.jsxs)("form",{style:{display:"flex",position:"fixed",bottom:"10px",width:"100%"},children:[Object(f.jsx)(G.a,{"aria-label":"minimum height",minRows:20,style:{width:"75%"},placeholder:"Habaringizni yozing....",inputRef:b}),Object(f.jsx)(u.a,{variant:"contained",color:"primary",className:p.button,endIcon:Object(f.jsx)(V.a,{}),type:"submit",onClick:function(e){e.preventDefault(),"Userni tanlang !"==k?alert("Userni tanlang !"):(r.emit("send_message",{message:b.current.value,userId:window.localStorage.getItem("userName"),userName:window.localStorage.getItem("user")}),console.log(l),j([].concat(Object(c.a)(l),[{message:b.current.value,user:window.localStorage.getItem("user"),time:d.toLocaleTimeString()}])))},children:"Send"})]})]})]})}var ee=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)([]),r=Object(o.a)(i,2),l=r[0],d=r[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),b=m[0],p=m[1],g=Object(n.useState)(""),O=Object(o.a)(g,2),x=(O[0],O[1]),h=Object(n.useState)([]),w=Object(o.a)(h,2),S=w[0],y=w[1];return Object(n.useEffect)((function(){s(j()("http://192.168.1.253:4200",{transports:["websocket"]}))}),[]),Object(n.useEffect)((function(){a&&(a.on("send_message",(function(e){y([].concat(Object(c.a)(S),Object(c.a)(e)))})),a.on("message",(function(e){var t=[];for(var a in e)a!=window.localStorage.getItem("user")&&t.push({name:a,userId:e[a]});d(t)})),a.on("men_keldim",(function(e){var t=[];for(var a in e)a!=window.localStorage.getItem("user")&&t.push({name:a,userId:e[a]});d(t)})))}),[a,S]),Object(f.jsxs)("div",{className:"App",children:["\\",b?Object(f.jsx)($,{users:l,client:a,messages:S,setMessages:y}):Object(f.jsx)(v,{setToken:p,client:a,setMyName:x})]})};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(ee,{})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.57fd8893.chunk.js.map